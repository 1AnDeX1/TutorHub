<div *ngIf="loading" class="loading">
  <p>Loading chat...</p>
</div>

<div *ngIf="error" class="error">
  <p>{{ error }}</p>
</div>

<div *ngIf="!loading && !error" class="chat-container">
  <div class="chat-log" #chatLog>
    <div *ngFor="let message of messages"
        class="message"
        [ngClass]="{
          'sender-message': message.userId === userId,
          'receiver-message': message.userId !== userId
        }">
      <strong>{{ message.senderRole }} ({{ message.senderName }}):</strong>
      <p>{{ message.message }}</p>
    </div>
  </div>

  <div class="chat-input">
    <textarea
      [(ngModel)]="newMessage"
      placeholder="Type your message..."
      (input)="autoResize($event)"
      rows="1"
    ></textarea>
    <button (click)="sendMessage()">Send</button>
  </div>
</div>
