<div>
  <button (click)="toggleStatus()" class="btn btn-primary mb-3">
    {{ getStatusLabel() }}
  </button>

  <div *ngIf="students.length === 0">
    <p>No students found for {{ currentStatus === StudentTeacherStatus.Confirmed ? 'Confirmed' : 'Pending' }} status.</p>
  </div>

  <ul class="list-group">
    <li class="list-group-item" *ngFor="let student of students">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <h5>{{ student.userName }} ({{ student.email }})</h5>
          <p *ngIf="student.id">Id: {{ student.id }}</p>
          <p *ngIf="student.grade">Grade: {{ student.grade }}</p>
          <p *ngIf="student.description">Description: {{ student.description }}</p>
        </div>

        <div *ngIf="currentStatus === StudentTeacherStatus.Pending">
          <button class="btn btn-success me-2" (click)="confirmStudent(student.id)">Confirm</button>
          <button class="btn btn-danger" (click)="rejectStudent(student.id)">Reject</button>
        </div>

        <div *ngIf="currentStatus === StudentTeacherStatus.Confirmed">
          <button class="btn btn-warning" (click)="unsubscribeStudent(student.id)">Unsubscribe</button>
        </div>
      </div>
    </li>
  </ul>
</div>
